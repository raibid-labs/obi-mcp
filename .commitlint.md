# Commit Message Guidelines

This project uses [commitlint](https://commitlint.js.org/) to enforce conventional commit messages. This ensures consistent, readable commit history and enables automated changelog generation.

## Commit Message Format

```
<type>(<scope>): <subject>

[optional body]

[optional footer]
```

### Type

Must be one of the following:

- **feat**: A new feature
- **fix**: A bug fix
- **docs**: Documentation only changes
- **style**: Changes that do not affect the meaning of the code (white-space, formatting, etc)
- **refactor**: A code change that neither fixes a bug nor adds a feature
- **perf**: A code change that improves performance
- **test**: Adding missing tests or correcting existing tests
- **build**: Changes that affect the build system or external dependencies
- **ci**: Changes to our CI configuration files and scripts
- **chore**: Other changes that don't modify src or test files
- **revert**: Reverts a previous commit

### Scope (REQUIRED)

Must be one of the following:

- **tools**: MCP tools implementation
- **resources**: MCP resources implementation
- **prompts**: MCP prompts implementation
- **server**: MCP server core functionality
- **tests**: Test suite updates
- **docs**: Documentation
- **ci**: CI/CD pipeline configuration
- **release**: Release automation and versioning
- **config**: Configuration files
- **deps**: Dependency updates
- **observability**: Observability and monitoring features
- **validation**: Input validation and schema definitions
- **logging**: Logging infrastructure
- **types**: TypeScript type definitions

### Subject

- Use imperative, present tense: "change" not "changed" nor "changes"
- Don't capitalize the first letter
- No period (.) at the end
- Maximum 100 characters for the entire header

### Examples

#### Good Commit Messages

```
feat(tools): add telemetry data collection tool
fix(server): resolve connection timeout in stdio transport
docs(config): update OBI configuration examples
test(resources): add integration tests for metric resources
chore(deps): upgrade @modelcontextprotocol/sdk to v1.0.5
perf(observability): optimize trace data processing
refactor(validation): improve schema validation logic
ci(release): add automated release workflow
```

#### Bad Commit Messages

```
update stuff                          # Missing type and scope
feat: add new tool                    # Missing scope
FEAT(tools): Add Tool                 # Uppercase type and subject
feat(invalid): add something          # Invalid scope
feat(tools): Added new tool.          # Wrong tense and has period
```

## Git Hooks

This project uses Husky to automatically validate commit messages before they are created. If your commit message doesn't follow the convention, the commit will be rejected with an error message explaining what's wrong.

## Manual Testing

You can manually test your commit message before committing:

```bash
echo "feat(tools): add new observability tool" | npx commitlint
```

## Bypassing the Hook (Not Recommended)

While possible to bypass the commit-msg hook with `--no-verify`, this is strongly discouraged as it breaks the commit convention and automated tooling.

## Additional Resources

- [Conventional Commits](https://www.conventionalcommits.org/)
- [commitlint Documentation](https://commitlint.js.org/)
- [Angular Commit Message Guidelines](https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit)
